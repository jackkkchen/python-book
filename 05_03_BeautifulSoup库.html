<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Pythonæ–°æ‰‹æ–‡æ¡£ - 17&nbsp; BeautifulSoup åº“</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05_04_Scrapyæ¡†æ¶.html" rel="next">
<link href="./05_02_HTMLæ–‡æ¡£ä¸Requestsåº“.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./05_01_çˆ¬è™«åŸºç¡€.html">çˆ¬è™«å¿«é€Ÿå…¥é—¨</a></li><li class="breadcrumb-item"><a href="./05_03_BeautifulSoupåº“.html"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">BeautifulSoup åº“</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pythonæ–°æ‰‹æ–‡æ¡£</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jackkkchen/python-book" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Download" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download"><i class="bi bi-download"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Pythonæ–°æ‰‹æ–‡æ¡£.pdf">
              <i class="bi bi-bi-file-pdf pe-1"></i>
            Download PDF
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="./Pythonæ–°æ‰‹æ–‡æ¡£.epub">
              <i class="bi bi-bi-journal pe-1"></i>
            Download ePub
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">æ–‡æ¡£ç›®å½•</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pythonç®€ä»‹</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Pythonå…¥é—¨åŸºç¡€</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_01_PythonåŸºæœ¬æ¦‚å¿µä¸æŒ‡ä»¤è¾“å…¥.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">PythonåŸºæœ¬æ¦‚å¿µä¸æŒ‡ä»¤è¾“å…¥</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_02_Pythonæ•°æ®ç±»å‹.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Pythonæ•°æ®ç±»å‹</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_03_Pythonæ•°æ®ç»“æ„.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Pythonæ•°æ®ç»“æ„</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Plotlyå¯è§†åŒ–å…¥é—¨</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_01_Plotlyå›¾è¡¨ç»˜åˆ¶ä¸å¯è§†åŒ–.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Plotly å›¾è¡¨ç»˜åˆ¶ä¸å¯è§†åŒ–</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_02_Plotlyé«˜é˜¶å›¾è¡¨.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Plotlyé«˜é˜¶å›¾è¡¨</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_03_Plotlyåœ°å›¾å¯è§†åŒ–.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Plotlyåœ°å›¾å¯è§†åŒ–</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Pandaså¿«é€Ÿå…¥é—¨</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_01_Pandaså®‰è£….html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Pandaså®‰è£…</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_02_Pandaså¤„ç†ä»€ä¹ˆæ ·çš„æ•°æ®.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Pandaså¤„ç†ä»€ä¹ˆæ ·çš„æ•°æ®</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_03_å¯¼å…¥å¯¼å‡ºæ•°æ®.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">å¯¼å…¥&amp;å¯¼å‡ºæ•°æ®</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_04_é€‰å–æ•°æ®.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">é€‰å–æ•°æ®</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_05_æ•°æ®çš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">æ•°æ®çš„å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_06_å¦‚ä½•è®¡ç®—æ±‡æ€»ç»Ÿè®¡.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">å¦‚ä½•è®¡ç®—æ±‡æ€»ç»Ÿè®¡</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_07_æ—¶é—´åºåˆ—æ•°æ®.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Pandaså¤„ç†æ—¶é—´åºåˆ—æ•°æ®</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_08_æ–‡æœ¬æ•°æ®.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Pandaså¤„ç†æ–‡æœ¬æ•°æ®</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">çˆ¬è™«å¿«é€Ÿå…¥é—¨</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_01_çˆ¬è™«åŸºç¡€.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">çˆ¬è™«åŸºç¡€</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_02_HTMLæ–‡æ¡£ä¸Requestsåº“.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HTML æ–‡æ¡£ä¸ Requests åº“</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_03_BeautifulSoupåº“.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">BeautifulSoup åº“</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_04_Scrapyæ¡†æ¶.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Scrapy æ¡†æ¶</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">å®é™…æ¡ˆä¾‹</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_01_forå¾ªç¯.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">forå¾ªç¯è‡ªåŠ¨è·å–è‚¡ç¥¨æ•°æ®</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_02_pythoné“¾æ¥æ•°æ®åº“.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Pythonè¿æ¥Postgresqlæ•°æ®åº“</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">æ‹“å±•</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_01_ç¯å¢ƒæ­å»º.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Pythonç¯å¢ƒæ­å»º</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_02_æ¡ä»¶è¯­å¥å’Œå¾ªç¯è¯­å¥.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Pythonæ¡ä»¶è¯­å¥</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_03_å‡½æ•°.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Pythonå‡½æ•°</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_04_æ¨¡å—.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Pythonæ¨¡å—</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_05_Excelå’ŒPythonçš„PandasåŠŸèƒ½ç±»æ¯”å­¦ä¹ .html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Excelå’ŒPythonçš„ç±»æ¯”å­¦ä¹ </span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_06_é”™è¯¯æ±‡æ€».html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Pythonå¸¸è§çš„å¼‚å¸¸æç¤º</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#beautifulsoup-åº“" id="toc-beautifulsoup-åº“" class="nav-link active" data-scroll-target="#beautifulsoup-åº“">BeautifulSoup åº“</a>
  <ul class="collapse">
  <li><a href="#ä¸€beautifulsoup-åº“çš„å®‰è£…ä¸ä½¿ç”¨" id="toc-ä¸€beautifulsoup-åº“çš„å®‰è£…ä¸ä½¿ç”¨" class="nav-link" data-scroll-target="#ä¸€beautifulsoup-åº“çš„å®‰è£…ä¸ä½¿ç”¨">ä¸€ã€BeautifulSoup åº“çš„å®‰è£…ä¸ä½¿ç”¨</a></li>
  <li><a href="#äºŒbeautifulsoup-åº“çš„å¯¹è±¡ç±»å‹" id="toc-äºŒbeautifulsoup-åº“çš„å¯¹è±¡ç±»å‹" class="nav-link" data-scroll-target="#äºŒbeautifulsoup-åº“çš„å¯¹è±¡ç±»å‹">äºŒã€BeautifulSoup åº“çš„å¯¹è±¡ç±»å‹</a></li>
  <li><a href="#ä¸‰éå†æ–‡æ¡£æ ‘" id="toc-ä¸‰éå†æ–‡æ¡£æ ‘" class="nav-link" data-scroll-target="#ä¸‰éå†æ–‡æ¡£æ ‘">ä¸‰ã€éå†æ–‡æ¡£æ ‘</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/jackkkchen/python-book/blob/main/05_03_BeautifulSoupåº“.ipynb" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">BeautifulSoup åº“</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="beautifulsoup-åº“" class="level2">
<h2 class="anchored" data-anchor-id="beautifulsoup-åº“">BeautifulSoup åº“</h2>
<section id="ä¸€beautifulsoup-åº“çš„å®‰è£…ä¸ä½¿ç”¨" class="level3">
<h3 class="anchored" data-anchor-id="ä¸€beautifulsoup-åº“çš„å®‰è£…ä¸ä½¿ç”¨">ä¸€ã€BeautifulSoup åº“çš„å®‰è£…ä¸ä½¿ç”¨</h3>
<p>BeautifulSoup åº“æ˜¯ä¸€ä¸ª Python åº“ï¼Œç”¨äºä» HTML å’Œ XML æ–‡æ¡£ä¸­æå–æ•°æ®ï¼Œè§£ææ–‡æ¡£ç»“æ„ï¼Œå¹¶ä½¿å…¶æ˜“äºæµè§ˆå’Œæ“ä½œã€‚BeautifulSoup åº“çš„ä¸»è¦ç›®æ ‡æ˜¯ä½¿æ•°æ®æŠ½å–å’Œå¤„ç†å˜å¾—ç®€å•ã€å¯é ï¼Œå¹¶ä¸”æ”¯æŒ Python æ ‡å‡†åº“ä¸­çš„å¤šç§è§£æå™¨ã€‚åœ¨æœ¬æ¬¡å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ BeautifulSoup åº“æ¥è§£æä¸Šä¸€èŠ‚ä¸­ï¼Œä½¿ç”¨ Requests åº“è·å–åˆ°çš„æ•°æ®ã€‚</p>
<blockquote class="blockquote">
<p><a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/">BeautifulSoup åº“çš„å®˜æ–¹æ–‡æ¡£</a>ï¼š<a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/" class="uri">https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/</a></p>
<p>ğŸ¤”BeautifulSoup åº“ä½œä¸ºä¸–ç•Œä¸Šæœ€æµè¡Œçš„ Python çˆ¬è™«è§£æåº“ä¹‹ä¸€ï¼Œå®ƒæœ‰ä¸­æ–‡åå­—å—ï¼Ÿç›´æ¥ç¿»è¯‘è¿‡æ¥åº”è¯¥å«åšâ€œç¾ä¸½æ±¤â€åº“ï¼Œä¸è¿‡æˆ‘ä»¬æˆ–è®¸å¯ä»¥å«å®ƒâ€œç¾æ±æ±â€åº“ï¼ğŸ˜†ğŸ˜†ğŸ¥³ğŸ¥³ğŸ™ŒğŸ™ŒğŸ‰ğŸŠ</p>
</blockquote>
<p>ä½œä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼ŒBeautifulSoup åº“å’Œå…¶ä»–æ‰€æœ‰åº“ä¸€æ ·ï¼Œåœ¨ä½¿ç”¨å‰éœ€è¦è¿›è¡Œå®‰è£…ï¼Œè¾“å…¥ä¸‹é¢çš„ä»£ç ï¼Œç„¶åé‡å¯ä½ çš„å†…æ ¸ï¼š</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install beautifulsoup4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>BeautifulSoup åº“ä¸€å…±æ”¯æŒå››ç§è§£æå™¨ï¼Œä¸‹é¢çš„è¡¨æ ¼è¯¦ç»†å±•ç¤ºäº†å„ä¸ªè§£æå™¨çš„ä¼˜ç¼ºç‚¹ä»¥åŠä½¿ç”¨æ–¹æ³•ï¼›</p>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 32%">
<col style="width: 32%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>è§£æå™¨</th>
<th>ä½¿ç”¨æ–¹æ³•</th>
<th>ä¼˜åŠ¿</th>
<th>åŠ£åŠ¿</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Python æ ‡å‡†åº“</td>
<td><code>BeautifulSoup(å¾…å¤„ç†å¯¹è±¡, "html.parser")</code></td>
<td>- Pythonçš„å†…ç½®æ ‡å‡†åº“<br>- æ‰§è¡Œé€Ÿåº¦é€‚ä¸­<br>- æ–‡æ¡£å®¹é”™èƒ½åŠ›å¼º</td>
<td>- Python 2.7.3 or 3.2.2)å‰ çš„ç‰ˆæœ¬ä¸­æ–‡æ¡£å®¹é”™èƒ½åŠ›å·®</td>
</tr>
<tr class="even">
<td>lxml HTML è§£æå™¨</td>
<td><code>BeautifulSoup(markup, "lxml")</code></td>
<td>- é€Ÿåº¦å¿«<br>- æ–‡æ¡£å®¹é”™èƒ½åŠ›å¼º</td>
<td>- éœ€è¦å®‰è£…Cè¯­è¨€åº“</td>
</tr>
<tr class="odd">
<td>lxml XML è§£æå™¨</td>
<td><code>BeautifulSoup(markup, ["lxml-xml"])</code><br><strong>or</strong><br><code>BeautifulSoup(markup, "xml")</code></td>
<td>- é€Ÿåº¦å¿«<br>- å”¯ä¸€æ”¯æŒXMLçš„è§£æå™¨</td>
<td>- éœ€è¦å®‰è£…Cè¯­è¨€åº“</td>
</tr>
<tr class="even">
<td>html5lib</td>
<td><code>BeautifulSoup(markup, "html5lib")</code></td>
<td>- æœ€å¥½çš„å®¹é”™æ€§<br>- ä»¥æµè§ˆå™¨çš„æ–¹å¼è§£ææ–‡æ¡£<br>- ç”ŸæˆHTML5æ ¼å¼çš„æ–‡æ¡£</td>
<td>- é€Ÿåº¦æ…¢<br>- ä¸ä¾èµ–å¤–éƒ¨æ‰©å±•</td>
</tr>
</tbody>
</table>
<p>çœ‹ç€ä¸­é—´ä¸¤é¡¹è§£æå™¨ï¼Œä½ æœ‰æ²¡æœ‰ä¸€ç‚¹å„¿ç†Ÿæ‚‰ï¼Ÿæ²¡é”™ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨å­¦ä¹  XPath æ—¶äº†è§£è¿‡çš„ lxml åº“ï¼åœ¨åé¢çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¤§å¤šä½¿ç”¨è¿™ä¸ªè§£æå™¨ã€‚ä»”ç»†çœ‹å®ƒçš„åŠ£åŠ¿ï¼šéœ€è¦å®‰è£… C è¯­è¨€åº“ï¼Œå³ä½¿æˆ‘ä»¬æ›¾ç»å®‰è£…è¿‡ï¼Œä½†æ˜¯ä¸ºäº†ä»¥é˜²ä¸‡ä¸€ï¼Œè¿˜æ˜¯ä¿é™©ä¸€ç‚¹å„¿å¥½ã€‚å°è¯•ä¸‹é¢çš„å®‰è£…ä»£ç ï¼š</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install lxml</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ç°åœ¨ä½ å·²ç»åšå¥½äº†å‰ç½®å·¥ä½œï¼Œè¯•è¯•çœ‹ä¸‹é¢çš„ä»£ç ï¼Œçœ‹çœ‹èƒ½å¦æ­£å¸¸å·¥ä½œï¼š</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>html <span class="op">=</span> requests.get(<span class="st">'https://www.baidu.com'</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>html.encoding <span class="op">=</span> <span class="st">'utf-8'</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html.text,<span class="st">'lxml'</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(soup)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;!DOCTYPE html&gt;
&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta content="text/html;charset=utf-8" http-equiv="content-type"/&gt;&lt;meta content="IE=Edge" http-equiv="X-UA-Compatible"/&gt;&lt;meta content="always" name="referrer"/&gt;&lt;link href="https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css" rel="stylesheet" type="text/css"/&gt;&lt;title&gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&lt;/title&gt;&lt;/head&gt; &lt;body link="#0000cc"&gt; &lt;div id="wrapper"&gt; &lt;div id="head"&gt; &lt;div class="head_wrapper"&gt; &lt;div class="s_form"&gt; &lt;div class="s_form_wrapper"&gt; &lt;div id="lg"&gt; &lt;img height="129" hidefocus="true" src="//www.baidu.com/img/bd_logo1.png" width="270"/&gt; &lt;/div&gt; &lt;form action="//www.baidu.com/s" class="fm" id="form" name="f"&gt; &lt;input name="bdorz_come" type="hidden" value="1"/&gt; &lt;input name="ie" type="hidden" value="utf-8"/&gt; &lt;input name="f" type="hidden" value="8"/&gt; &lt;input name="rsv_bp" type="hidden" value="1"/&gt; &lt;input name="rsv_idx" type="hidden" value="1"/&gt; &lt;input name="tn" type="hidden" value="baidu"/&gt;&lt;span class="bg s_ipt_wr"&gt;&lt;input autocomplete="off" autofocus="autofocus" class="s_ipt" id="kw" maxlength="255" name="wd" value=""/&gt;&lt;/span&gt;&lt;span class="bg s_btn_wr"&gt;&lt;input autofocus="" class="bg s_btn" id="su" type="submit" value="ç™¾åº¦ä¸€ä¸‹"/&gt;&lt;/span&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id="u1"&gt; &lt;a class="mnav" href="http://news.baidu.com" name="tj_trnews"&gt;æ–°é—»&lt;/a&gt; &lt;a class="mnav" href="https://www.hao123.com" name="tj_trhao123"&gt;hao123&lt;/a&gt; &lt;a class="mnav" href="http://map.baidu.com" name="tj_trmap"&gt;åœ°å›¾&lt;/a&gt; &lt;a class="mnav" href="http://v.baidu.com" name="tj_trvideo"&gt;è§†é¢‘&lt;/a&gt; &lt;a class="mnav" href="http://tieba.baidu.com" name="tj_trtieba"&gt;è´´å§&lt;/a&gt; &lt;noscript&gt; &lt;a class="lb" href="http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1" name="tj_login"&gt;ç™»å½•&lt;/a&gt; &lt;/noscript&gt; &lt;script&gt;document.write('&lt;a href="http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u='+ encodeURIComponent(window.location.href+ (window.location.search === "" ? "?" : "&amp;")+ "bdorz_come=1")+ '" name="tj_login" class="lb"&gt;ç™»å½•&lt;/a&gt;');
                &lt;/script&gt; &lt;a class="bri" href="//www.baidu.com/more/" name="tj_briicon" style="display: block;"&gt;æ›´å¤šäº§å“&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id="ftCon"&gt; &lt;div id="ftConw"&gt; &lt;p id="lh"&gt; &lt;a href="http://home.baidu.com"&gt;å…³äºç™¾åº¦&lt;/a&gt; &lt;a href="http://ir.baidu.com"&gt;About Baidu&lt;/a&gt; &lt;/p&gt; &lt;p id="cp"&gt;Â©2017&nbsp;Baidu&nbsp;&lt;a href="http://www.baidu.com/duty/"&gt;ä½¿ç”¨ç™¾åº¦å‰å¿…è¯»&lt;/a&gt;&nbsp; &lt;a class="cp-feedback" href="http://jianyi.baidu.com/"&gt;æ„è§åé¦ˆ&lt;/a&gt;&nbsp;äº¬ICPè¯030173å·&nbsp; &lt;img src="//www.baidu.com/img/gs.gif"/&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;
</code></pre>
</div>
</div>
<p>ä½¿ç”¨ä¸Šé¢çš„ä»£ç ï¼Œä½ å°†è·å¾—ç”± BeautifulSoup è§£æå¥½çš„ HTML æ–‡æ¡£ã€‚</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>å°æç¤ºï¼š</p>
<p>å¦‚æœä½ è§‰å¾—ç›´æ¥è¾“å‡ºçš„ HTML è¿‡äºå¤§å—è€Œä¸”éš¾çœ‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>.prettify()</code> æ–¹æ³•è¿›è¡Œè¾“å‡ºï¼Œå°±å’Œè¿™ä¸ªæ–¹æ³•çš„åå­—ä¸€æ ·ï¼Œä¼šè®©ä½ çš„è¾“å‡ºå˜å¾—æ¼‚äº®èµ·æ¥ï¼ğŸ¦‹ğŸ¦‹</p>
<p>å°†ä¸Šé¢çš„è¾“å‡ºä»£ç æ›¿æ¢æˆï¼š</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(soup.prettify())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>ä½¿ç”¨ BeautifulSoup åº“è§£æ HTML æ–‡æ¡£çœ‹ä¸Šå»æ˜¯ä¸æ˜¯ååˆ†ç®€å•ï¼Ÿå°±åƒè¡¨æ ¼é‡Œé¢åˆ—å‡ºæ¥çš„é‚£æ ·ï¼Œä½ åªéœ€è¦å°†æ–‡ä»¶ä¼ é€’ç»™ BeautifulSoupï¼Œç„¶åæŒ‡å®šè§£æå™¨ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨å¼€å§‹å·¥ä½œäº†ï¼</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>BeautifulSoup(å¾…å¤„ç†å¯¹è±¡, <span class="st">"è§£æå™¨"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="äºŒbeautifulsoup-åº“çš„å¯¹è±¡ç±»å‹" class="level3">
<h3 class="anchored" data-anchor-id="äºŒbeautifulsoup-åº“çš„å¯¹è±¡ç±»å‹">äºŒã€BeautifulSoup åº“çš„å¯¹è±¡ç±»å‹</h3>
<p>BeautifulSoup åº“è§£æå¤æ‚ HTML æ–‡æ¡£çš„æ–¹å¼æ˜¯å°† HTML æ–‡æ¡£è½¬æ¢ä¸ºä¸€ä¸ªå¤æ‚çš„æ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ Python å¯¹è±¡ã€‚åœ¨ BeautifulSoup ä¸­ï¼Œå¯¹è±¡ä¸€å…±å¯ä»¥å½’çº³ä¸º 4 ç§ã€‚</p>
<section id="tag-æ ‡ç­¾" class="level4">
<h4 class="anchored" data-anchor-id="tag-æ ‡ç­¾">1. <code>Tag</code> æ ‡ç­¾</h4>
<p><code>Tag</code> å¯¹è±¡ï¼Œå°±æ˜¯ HTML åŸç”Ÿæ–‡æ¡£ä¸­çš„æ ‡ç­¾ï¼Œæ¯ä¸ª <code>Tag</code> å¯¹è±¡éƒ½ä»£è¡¨æ–‡æ¡£ä¸­çš„ä¸€ä¸ªå…·ä½“æ ‡ç­¾ã€‚å¯¹äº <code>Tag</code> å¯¹è±¡ï¼Œæˆ‘ä»¬ä¸»è¦å­¦ä¹ å…¶æœ€é‡è¦çš„ä¸¤ä¸ªå±æ€§ï¼š</p>
<section id="name-æ ‡ç­¾å" class="level5">
<h5 class="anchored" data-anchor-id="name-æ ‡ç­¾å">(1) <code>name</code> æ ‡ç­¾å</h5>
<p><code>name</code> å±æ€§æ˜¯ <code>Tag</code> å±æ€§ä¸­æœ€é‡è¦çš„å±æ€§ä¹‹ä¸€ï¼Œè¯¥å±æ€§ç”¨äºè¡¨ç¤ºæ ‡ç­¾çš„åç§°ï¼Œå…è®¸æ°¸å›ºè®¿é—®å’Œä¿®æ”¹æ ‡ç­¾çš„åç§°ã€‚</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;div class="container"&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/div&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'lxml'</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>div_tag <span class="op">=</span> soup.find(<span class="st">'div'</span>)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co"># è®¿é—®æ ‡ç­¾çš„åç§°</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"æ ‡ç­¾åç§°:"</span>, div_tag.name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>æ ‡ç­¾åç§°: div</code></pre>
</div>
</div>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç®€çŸ­çš„ HTML å­—ç¬¦ä¸²ï¼Œç„¶åé€šè¿‡ BeautifulSoup ä¸­çš„ lxml è§£æå™¨æ¥è§£æå®ƒã€‚éšåï¼Œæˆ‘ä»¬é€šè¿‡ <code>.find()</code> æ–¹æ³•æ‰¾åˆ°äº†æ ‡ç­¾ <code>&lt;div&gt;</code>ï¼Œæœ€åï¼Œä½¿ç”¨ <code>name</code> å±æ€§å°†å…¶çš„æ ‡ç­¾åæˆåŠŸè¾“å‡ºå‡ºæ¥äº†ã€‚</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong><code>.find()</code> æ–¹æ³•</strong></p>
<p><code>.find()</code> æ–¹æ³•æ˜¯ BeautifulSoup åº“ä¸­æœ€å¸¸ç”¨çš„æŸ¥æ‰¾<strong>æ–‡æ¡£ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…æŒ‡å®šæ¡ä»¶çš„æ ‡ç­¾</strong>çš„æ–¹æ³•ã€‚å…¶è¯­æ³•ä¸ºï¼š</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>find(name, attrs, recursive, text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>å‚æ•°è§£é‡Šï¼š</p>
<ul>
<li><code>name</code>ï¼šè¦æŸ¥æ‰¾çš„æ ‡ç­¾çš„åç§°æˆ–æ ‡ç­¾ååˆ—è¡¨ã€‚å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå‡½æ•°ï¼Œæˆ–å®ƒä»¬çš„ç»„åˆã€‚ä¾‹å¦‚ï¼Œ<code>'a'</code> è¡¨ç¤ºæŸ¥æ‰¾ <code>&lt;a&gt;</code> æ ‡ç­¾ï¼Œ<code>['a', 'div']</code> è¡¨ç¤ºæŸ¥æ‰¾ <code>&lt;a&gt;</code> æˆ– <code>&lt;div&gt;</code> æ ‡ç­¾ã€‚</li>
<li><code>attrs</code>ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šè¦åŒ¹é…çš„æ ‡ç­¾çš„å±æ€§å­—å…¸ã€‚ä¾‹å¦‚ï¼Œ<code>{'class': 'example', 'id': 'content'}</code> è¡¨ç¤ºæŸ¥æ‰¾å…·æœ‰ç‰¹å®šç±»å’Œ ID å±æ€§çš„æ ‡ç­¾ã€‚</li>
<li><code>recursive</code>ï¼šå¯é€‰å‚æ•°ï¼Œæ§åˆ¶æ˜¯å¦åœ¨æ ‡ç­¾çš„æ‰€æœ‰å­å­™å±‚æ¬¡ä¸­æŸ¥æ‰¾ã€‚é»˜è®¤ä¸º Trueï¼Œè¡¨ç¤ºæŸ¥æ‰¾æ‰€æœ‰å­å­™æ ‡ç­¾ï¼Œå¦‚æœè®¾ç½®ä¸º Falseï¼Œåªä¼šåœ¨ç›´æ¥å­æ ‡ç­¾ä¸­æŸ¥æ‰¾ã€‚</li>
<li><code>text</code>ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºæŸ¥æ‰¾æ ‡ç­¾å†…çš„æ–‡æœ¬å†…å®¹ã€‚å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œå‡½æ•°ï¼Œæˆ–å®ƒä»¬çš„ç»„åˆã€‚</li>
</ul>
<p><code>.find()</code> æ–¹æ³•çš„è¿”å›å€¼æ˜¯<strong>ç¬¬ä¸€ä¸ª</strong>æ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾å¯¹è±¡ï¼Œå¦‚æœæ‰¾ä¸åˆ°åŒ¹é…çš„æ ‡ç­¾ï¼Œåˆ™è¿”å› <code>None</code>ã€‚</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;html&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;body&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;p&gt;ç¬¬ä¸€æ®µ.&lt;/p&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;div class="example"&gt;è¿™æ˜¯ä¸€ä¸ª div.&lt;/div&gt;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;a href="https://www.example.com"&gt;ç‚¹è¿™é‡Œ&lt;/a&gt;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;a href="https://www.example_2.com"&gt;å’”å“’å’”å“’&lt;/a&gt;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;/body&gt;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/html&gt;</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'html.parser'</span>)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥æ‰¾ç¬¬ä¸€ä¸ª&lt;p&gt;æ ‡ç­¾</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>paragraph <span class="op">=</span> soup.find(<span class="st">'p'</span>)</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(paragraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥æ‰¾å…·æœ‰'class'å±æ€§ä¸º'example'çš„ç¬¬ä¸€ä¸ª&lt;div&gt;æ ‡ç­¾</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>div_with_class <span class="op">=</span> soup.find(<span class="st">'div'</span>, class_<span class="op">=</span><span class="st">'example'</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(div_with_class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ…å«æŒ‡å®šæ–‡æœ¬çš„æ ‡ç­¾</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>link <span class="op">=</span> soup.find(string<span class="op">=</span><span class="st">'ç‚¹è¿™é‡Œ'</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(link)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥æ‰¾å…·æœ‰å±æ€§'href'çš„ç¬¬ä¸€ä¸ª&lt;a&gt;æ ‡ç­¾</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>anchor_with_href <span class="op">=</span> soup.find(<span class="st">'a'</span>, href<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(anchor_with_href)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>å¦å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>.find_all</code> æ–¹æ³•è·å–æ‰€æœ‰çš„ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥æ‰¾æ‰€æœ‰çš„&lt;a&gt;æ ‡ç­¾ï¼Œè¿”å›åˆ—è¡¨</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>all_links <span class="op">=</span> soup.find_all(<span class="st">'a'</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(all_links)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>é€šè¿‡è®¿é—®æ ‡ç­¾åï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ®ç»“æ„ï¼Œä»¥æ”¯æŒæˆ‘ä»¬å¯¹ HTML æ–‡æ¡£è¿›è¡Œæ•°æ®æå–ã€æ¡ä»¶ç­›é€‰ç­‰æ“ä½œã€‚</p>
<p>BeautifulSoup åº“è¿˜æ”¯æŒä¿®æ”¹æ ‡ç­¾åï¼Œå½“æˆ‘ä»¬éœ€è¦é‡æ„ HTML æ–‡æ¡£æˆ–è€…è¿›è¡Œæ•°æ®æ¸…æ´—æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>replace_with()</code> æ–¹æ³•æ¥æ›´æ”¹æ ‡ç­¾åã€‚</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æ›´æ”¹æ ‡ç­¾åä¸º 'section'</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>div_tag.name <span class="op">=</span> <span class="st">'section'</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># æ‰“å°ä¿®æ”¹åçš„æ ‡ç­¾</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(div_tag)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;section class="container"&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;
&lt;/section&gt;</code></pre>
</div>
</div>
<p>å°†è¿™æ®µä»£ç æ·»åŠ åˆ°ä¸Šä¸€æ®µç¤ºä¾‹ä»£ç ä¹‹åï¼Œè¿è¡Œå®ƒï¼Œä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬å®šä¹‰çš„ HTML å­—ç¬¦ä¸²ä¸­çš„ <code>&lt;div&gt;</code> æ ‡ç­¾è¢«æ›¿æ¢ä¸ºäº† <code>&lt;section&gt;</code> æ ‡ç­¾ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±é€šè¿‡è®¿é—®å’Œå˜æ›´ <code>name</code> å±æ€§ï¼Œå¯¹æ–‡æ¡£çš„ç»“æ„è¿›è¡Œäº†è°ƒæ•´ã€‚</p>
<p>åœ¨å˜æ›´æ ‡ç­¾çš„ <code>name</code> å±æ€§æ—¶ï¼Œéœ€è¦éå¸¸è°¨æ…çš„æ“ä½œï¼Œä»¥ç¡®ä¿ä¸ç ´åæ–‡æ¡£çš„ç»“æ„å’Œè¯­ä¹‰ã€‚</p>
</section>
<section id="attributes-å±æ€§" class="level5">
<h5 class="anchored" data-anchor-id="attributes-å±æ€§">(2) <code>Attributes</code> å±æ€§</h5>
<p>åœ¨ HTML æ–‡æ¡£ä¸­ï¼Œ<code>Attributes</code> æ˜¯ä¸æ ‡ç­¾å…³è”çš„é¢å¤–ä¿¡æ¯ï¼Œé€šå¸¸ä»¥â€œé”®-å€¼â€å¯¹çš„å½¢å¼å‡ºç°ï¼Œå…¶ä¸­â€œé”®â€è¡¨ç¤ºå±æ€§çš„åç§°ï¼Œâ€œå€¼â€è¡¨ç¤ºå±æ€§çš„å€¼ã€‚</p>
<blockquote class="blockquote">
<p>çœ‹åˆ°â€œé”®-å€¼â€å¯¹ï¼Œä½ æœ‰æ²¡æœ‰æƒ³èµ·æ¥ä»€ä¹ˆï¼ŸğŸ¤”æ²¡é”™ï¼å°±æ˜¯å­—å…¸ï¼å±æ€§åœ¨ BeautifulSoup ä¸­é€šå¸¸ä»¥å­—å…¸çš„å½¢å¼è¡¨ç¤ºï¼Œ<code>Tag</code> çš„å±æ€§çš„æ“ä½œæ–¹æ³•ä¸å­—å…¸ç›¸åŒã€‚è¿™æ„å‘³ç€ï¼Œ<code>Tag</code> çš„å±æ€§å¯ä»¥è¢«æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤ï¼</p>
</blockquote>
<p>è¦è®¿é—®æŸä¸ª <code>Tag</code> çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>.attrs</code> æ–¹æ³•ã€‚å¦‚ï¼š</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;a href="https://www.example.com" class="link"&gt;Click here&lt;/a&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;img src="image.jpg" alt="An example image"&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'lxml'</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># è·å– &lt;a&gt; æ ‡ç­¾çš„å±æ€§å­—å…¸</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>a_tag <span class="op">=</span> soup.find(<span class="st">'a'</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>a_attrs <span class="op">=</span> a_tag.attrs</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co"># è¾“å‡º &lt;a&gt; æ ‡ç­¾çš„å±æ€§</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(a_attrs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'href': 'https://www.example.com', 'class': ['link']}</code></pre>
</div>
</div>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨è§£æå®Œ HTML å­—ç¬¦ä¸²ä»¥åï¼Œé¦–å…ˆä½¿ç”¨ <code>.find()</code> æ–¹æ³•å®šä½ï¼Œæ‰¾åˆ°äº† <code>&lt;a&gt;</code> æ ‡ç­¾ï¼Œéšåï¼Œä½¿ç”¨ <code>.attrs</code> æ–¹æ³•è·å–äº† <code>&lt;a&gt;</code> æ ‡ç­¾çš„å±æ€§åˆ—è¡¨ã€‚</p>
<p>å¦‚æœä½ æƒ³è¦æŒ‡å®šæŸä¸ªå±æ€§è¿›è¡Œè·å–ï¼Œå¯ä»¥ç›´æ¥åœ¨æŒ‡å®šçš„æ ‡ç­¾åä½¿ç”¨ <code>[]</code> æ¥è·å–è¯¥å±æ€§ï¼Œè¯­æ³•ä¸ºï¼š</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>tag[<span class="st">'å±æ€§'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ç»§ç»­ä½¿ç”¨ä¸Šé¢çš„ä¾‹å­æ¥è·å–æŒ‡å®šçš„å±æ€§ï¼š</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># è·å–&lt;a&gt;æ ‡ç­¾çš„å±æ€§å­—å…¸</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>a_tag <span class="op">=</span> soup.find(<span class="st">'a'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>a_attrs <span class="op">=</span> a_tag.attrs</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># è®¿é—®å±æ€§</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"é“¾æ¥åœ°å€:"</span>, a_attrs[<span class="st">'href'</span>])</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"ç±»å:"</span>, a_attrs[<span class="st">'class'</span>])</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># è·å–&lt;img&gt;æ ‡ç­¾çš„å±æ€§å­—å…¸</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>img_tag <span class="op">=</span> soup.find(<span class="st">'img'</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>img_attrs <span class="op">=</span> img_tag.attrs</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># è®¿é—®å±æ€§</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"å›¾ç‰‡æº:"</span>, img_attrs[<span class="st">'src'</span>])</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"æ›¿ä»£æ–‡æœ¬:"</span>, img_attrs[<span class="st">'alt'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>é“¾æ¥åœ°å€: https://www.example.com
ç±»å: ['link']
å›¾ç‰‡æº: image.jpg
æ›¿ä»£æ–‡æœ¬: An example image</code></pre>
</div>
</div>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>a_attrs</code> å’Œ <code>img_attrs</code> åˆ†åˆ«è·å–äº†æ ‡ç­¾ <code>&lt;a&gt;</code> å’Œ <code>&lt;img&gt;</code> çš„å±æ€§å­—å…¸ï¼Œç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨å­—å…¸çš„æ–¹å¼è®¿é—®è¿™äº›æ ‡ç­¾çš„å±æ€§ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ <code>a_attrs['href']</code> æ¥è·å–é“¾æ¥åœ°å€ã€‚å­—å…¸å½¢å¼çš„å±æ€§è®©æˆ‘ä»¬èƒ½å¤Ÿè½»æ¾åœ°æ£€ç´¢å’Œæ“ä½œæ ‡ç­¾çš„å±æ€§ä¿¡æ¯ï¼Œä¾¿äºæ•°æ®çš„æå–å’Œæ–‡æ¡£å¤„ç†ã€‚</p>
<p>å¦å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>.get()</code> æ–¹æ³•æ¥è·å–æŒ‡å®šçš„å±æ€§ï¼š</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>tag.get(<span class="st">'å±æ€§'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸æ¨èè¿™ç§æ–¹å¼ï¼Œä½¿ç”¨å­—å…¸çš„æ–¹å¼æ¥æ“ä½œæ ‡ç­¾çš„å±æ€§ï¼Œæ—¢ç›´è§‚åˆå®¹æ˜“è®°å¿†ï¼Œä½ åªéœ€è¦è®°ä½ï¼Œ<code>tag</code> çš„å±æ€§æ“ä½œæ–¹æ³•ä¸å­—å…¸ä¸€æ ·å°±å¯ä»¥äº†ã€‚</p>
</section>
</section>
<section id="navigablestring-å¯ä»¥éå†çš„å­—ç¬¦ä¸²" class="level4">
<h4 class="anchored" data-anchor-id="navigablestring-å¯ä»¥éå†çš„å­—ç¬¦ä¸²">2. <code>NavigableString</code> å¯ä»¥éå†çš„å­—ç¬¦ä¸²</h4>
<p><code>NavigableString</code> é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å¯ä»¥éå†çš„å­—ç¬¦ä¸²ã€‚åœ¨ HTML æ–‡æ¡£ä¸­ï¼Œå­—ç¬¦ä¸²é€šå¸¸åŒ…å«åœ¨ <code>Tag</code> å†…ï¼Œå› æ­¤ï¼Œ<code>NavigableString</code> ç”¨äºè¡¨ç¤ºæ ‡ç­¾å†…çš„æ–‡æœ¬å†…å®¹ã€‚å½“ BeautifulSoup è§£æ HTML æˆ– XML æ–‡æ¡£æ—¶ï¼Œå®ƒä¼šå°†æ ‡ç­¾å†…çš„æ–‡æœ¬ä½œä¸º <code>NavigableString</code> å¯¹è±¡æ¥è¡¨ç¤ºï¼Œä»è€Œå¯ä»¥è®¿é—®å’Œæ“ä½œè¿™äº›æ–‡æœ¬å†…å®¹ã€‚</p>
<p><code>NavigableString</code> å­—ç¬¦ä¸²ä¸ Python ä¸­çš„å­—ç¬¦ä¸²çš„å±æ€§ç›¸åŒï¼Œä½ å¯ä»¥å¯¹ <code>NavigableString</code> å¯¹è±¡çš„æ–‡æœ¬å†…å®¹è¿›è¡Œæˆ‘ä»¬åœ¨ Python åŸºç¡€ä¸­å­¦è¿‡çš„é‚£äº›å­—ç¬¦ä¸²æ“ä½œï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²çš„æ–¹æ³•ã€åˆ‡ç‰‡ã€æŸ¥æ‰¾ã€æ›¿æ¢ç­‰ç­‰ã€‚ä½ ç”šè‡³å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>unicode()</code> æ–¹æ³•å°† <code>NavigableString</code> è½¬æ¢æˆ Python ä¸­çš„ <code>Unicode</code> å­—ç¬¦ä¸²ã€‚</p>
<p>ä½¿ç”¨ <code>.string</code> æ–¹æ³•è·å– <code>NavigableString</code> çš„æ–‡æœ¬å†…å®¹ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup, NavigableString</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;p&gt;è¿™æ˜¯ä¸€æ®µè¯å±å±å±&lt;/p&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'lxml'</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># è·å–&lt;p&gt;æ ‡ç­¾å†…çš„æ–‡æœ¬å†…å®¹ï¼Œè¿”å›ä¸€ä¸ªNavigableStringå¯¹è±¡</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>p_tag <span class="op">=</span> soup.find(<span class="st">'p'</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>text_inside_p <span class="op">=</span> p_tag.string</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co"># æ‰“å°æ–‡æœ¬å†…å®¹</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"æ–‡æœ¬å†…å®¹:"</span>, text_inside_p)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"å¯¹è±¡ç±»å‹:"</span>, <span class="bu">type</span>(text_inside_p))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>æ–‡æœ¬å†…å®¹: è¿™æ˜¯ä¸€æ®µè¯å±å±å±
å¯¹è±¡ç±»å‹: &lt;class 'bs4.element.NavigableString'&gt;</code></pre>
</div>
</div>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è·å–äº† <code>&lt;p&gt;</code> æ ‡ç­¾å†…çš„æ–‡æœ¬å†…å®¹ï¼Œå¹¶ä¸”å°†å…¶è¾“å‡ºäº†å‡ºæ¥ï¼ŒåŒæ—¶è¿˜æ£€æŸ¥äº†å…¶ç±»å‹ï¼Œä¸ºï¼š<code>&lt;class 'bs4.element.NavigableString'&gt;</code>ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>Tag</code> ä¸­çš„å­—ç¬¦ä¸²ä¸èƒ½ç›´æ¥ç¼–è¾‘ï¼Œä½†å¯ä»¥è¢«æ›¿æ¢ä¸ºå…¶ä»–å­—ç¬¦ä¸²ã€‚è¦å®ç°è¿™ä¸€æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>replace_with()</code> æ–¹æ³•ã€‚</p>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æ›¿æ¢æ–‡æœ¬å†…å®¹</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>p_tag.replace_with(<span class="st">"è¿™æ˜¯ä¸€æ®µè¯å–µå–µå–µ"</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>text_inside_p <span class="op">=</span> p_tag.string</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># æ‰“å°æ–‡æœ¬å†…å®¹</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"æ–‡æœ¬å†…å®¹:"</span>, text_inside_p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>æ–‡æœ¬å†…å®¹: è¿™æ˜¯ä¸€æ®µè¯å±å±å±</code></pre>
</div>
</div>
</section>
<section id="comment-æ³¨é‡ŠåŠç‰¹æ®Šå­—ç¬¦ä¸²" class="level4">
<h4 class="anchored" data-anchor-id="comment-æ³¨é‡ŠåŠç‰¹æ®Šå­—ç¬¦ä¸²">3. <code>Comment</code> æ³¨é‡ŠåŠç‰¹æ®Šå­—ç¬¦ä¸²</h4>
<p>åœ¨ BeautifulSoup ä¸­ï¼Œæ³¨é‡Šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œä½¿ç”¨ <code>Comment</code> è¡¨ç¤ºï¼Œä»£è¡¨ HTML æ–‡æ¡£ä¸­çš„æ³¨é‡Šå†…å®¹ã€‚<code>Comment</code> å¯¹è±¡é€šå¸¸è¢«åŒ…è£¹åœ¨ <code>&lt;!--</code> å’Œ <code>--&gt;</code> æ ‡è®°ä¹‹é—´ï¼Œåªå¯ä»¥è¯»å–ï¼Œä¸å¯ä»¥ä¿®æ”¹ã€‚</p>
<p><code>Comment</code> å¯¹è±¡çš„ç‰¹æ®Šç‚¹åœ¨äºï¼Œå®ƒå’Œ <code>NavigableString</code> ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>.string</code> å±æ€§è®¿é—®ï¼Œè®¿é—®çš„ç»“æœå°†è¿”å›æ³¨é‡Šçš„æ–‡æœ¬å†…å®¹ã€‚ä½†æ˜¯åœ¨è¿›è¡Œçˆ¬è™«æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¸éœ€è¦çˆ¬å–æ³¨é‡Šå†…å®¹ï¼Œå› æ­¤ï¼Œåœ¨ä½¿ç”¨çˆ¬è™«æ—¶ï¼Œè¦æ ¼å¤–æ³¨æ„ HTML æ–‡æ¡£ä¸­çš„æ³¨é‡Šå†…å®¹ã€‚ä¸‹é¢çš„ä¾‹å­æœ‰äº›éš¾ä»¥ç†è§£ï¼Œä¸è¦ç€æ€¥ï¼Œä»”ç»†é˜…è¯»å®ƒã€‚</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ <code>Comment</code> ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>isinstance(å¾…åˆ¤æ–­å¯¹è±¡ï¼Œåˆ¤æ–­æ ¼å¼)</code> æ–¹æ³•ã€‚è¿™ä¸ªå‡½æ•°ç»“æ„ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å¾…åˆ¤æ–­çš„å¯¹è±¡ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯æˆ‘ä»¬æƒ³è¦åˆ¤æ–­çš„æ ¼å¼ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="bu">isinstance</span>(my_comment, Comment)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>è¿™ä¸ªä¾‹å­ä½¿ç”¨ <code>isinstance()</code> æ–¹æ³•ï¼Œæ¥æ£€æŸ¥ <code>my_comment</code> å¯¹è±¡æ˜¯ä¸æ˜¯ <code>Comment</code> ç±»å‹ã€‚</p>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup, Comment</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;html&gt;</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;body&gt;</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;!-- è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Šã€‚ --&gt;</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;div&gt;</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;p&gt;è¿™æ˜¯å¦å¤–ä¸€ä¸ªé”»ç‚¼ã€‚&lt;/p&gt;</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/div&gt;</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;/body&gt;</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/html&gt;</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'html.parser'</span>)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥æ‰¾æ‰€æœ‰æ³¨é‡Šå¹¶æ‰“å°å…¶å†…å®¹</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>comments <span class="op">=</span> soup.find_all(string<span class="op">=</span><span class="kw">lambda</span> text: <span class="bu">isinstance</span>(text, Comment))</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> comment <span class="kw">in</span> comments:</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"æ³¨é‡Šå†…å®¹:"</span>, comment.string)</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"å¯¹è±¡ç±»å‹:"</span>, <span class="bu">type</span>(comment.string))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>æ³¨é‡Šå†…å®¹:  è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Šã€‚ 
å¯¹è±¡ç±»å‹: &lt;class 'bs4.element.Comment'&gt;</code></pre>
</div>
</div>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨ <code>find_all</code> æ–¹æ³•ï¼Œæƒ³è¦ç”¨å®ƒæ¥æ‰¾åˆ°æ‰€æœ‰ç¬¦åˆæˆ‘ä»¬è¦æ±‚çš„å¯¹è±¡ï¼›ç„¶åï¼Œæˆ‘ä»¬åœ¨æ‹¬å·å†…ä¼ å…¥äº†ä¸€ä¸ªè¡¨è¾¾å¼ <code>string=lambda text: isinstance(text, Comment)</code>ï¼Œå…¶ä¸­ï¼Œ<code>string</code> å‚æ•°ç”¨äºæŒ‡å®šæˆ‘ä»¬è¦æŸ¥æ‰¾çš„å†…å®¹ï¼ŒåŒ¿åå‡½æ•° <code>lambda text: isinstance(text, Comment)</code> ç”¨æ¥å¯¹æˆ‘ä»¬è¦æŸ¥æ‰¾çš„å†…å®¹åšå‡ºæ¡ä»¶åˆ¤æ–­ï¼Œå¯¹æ¯ä¸ªæ–‡æœ¬å†…å®¹è¿›è¡Œæ£€æŸ¥ï¼Œçœ‹å®ƒæ˜¯å¦æ˜¯ä¸€ä¸ª <code>Comment</code> å¯¹è±¡ï¼›æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå¾ªç¯ï¼Œå°†æ‰€æœ‰æŸ¥è¯¢åˆ°çš„ <code>Comment</code> å¯¹è±¡éƒ½è¾“å‡ºå‡ºæ¥äº†ã€‚</p>
</section>
<section id="beautifulsoup" class="level4">
<h4 class="anchored" data-anchor-id="beautifulsoup">4. <code>BeautifulSoup</code></h4>
<p>æœ€åä¸€ä¸ªå¯¹è±¡ï¼Œçœ‹èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆå¥‡æ€ªï¼ŸğŸ¤”ğŸ˜†ä½ æ²¡æœ‰çœ¼èŠ±ï¼æœ€åä¸€ä¸ªå¯¹è±¡å°±æ˜¯ <code>BeautifulSoup</code> å¯¹è±¡ã€‚å®ƒæ˜¯ BeautifSoup åº“ä¸­çš„ä¸»è¦å¯¹è±¡ï¼Œè¡¨ç¤ºä¸€ä¸ªæ–‡æ¡£çš„å…¨éƒ¨å†…å®¹ã€‚å®ƒé€šå¸¸ç”¨äºè§£æå’Œæ“ä½œ HTML æˆ– XML æ–‡æ¡£ã€‚<code>BeautifulSoup</code> å¯¹è±¡æä¾›äº†è®¸å¤šæ–¹æ³•å’Œå±æ€§ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè½»æ¾åœ°éå†æ–‡æ¡£ã€æŸ¥æ‰¾æ ‡ç­¾ã€æå–æ•°æ®å’Œä¿®æ”¹æ–‡æ¡£çš„å†…å®¹ã€‚</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;html&gt;</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;head&gt;</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;title&gt;ä¸¾ä¸€ä¸ªä¾‹å­ğŸŒ°&lt;/title&gt;</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;/head&gt;</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;body&gt;</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½&lt;/p&gt;</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;a href="https://www.example.com"&gt;ç‚¹å‡»ï¼ç‚¹å‡»ï¼ğŸ–±ï¸&lt;/a&gt;</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="st">  &lt;/body&gt;</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/html&gt;</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co"># åˆ›å»ºBeautifulSoupå¯¹è±¡å¹¶æŒ‡å®šè§£æå™¨</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'lxml'</span>)</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a><span class="co"># æŸ¥çœ‹BeautifuiSoupå¯¹è±¡çš„å±æ€§</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(soup.name)</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(soup.attrs)</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(soup))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[document]
{}
&lt;class 'bs4.BeautifulSoup'&gt;</code></pre>
</div>
</div>
<p>ä½ ä¼šå‘ç° <code>BeautifulSoup</code> å¯¹è±¡çš„å±æ€§åˆ—è¡¨ä¸ºç©ºï¼Œè¿™æ˜¯å› ä¸º <code>BeautifulSoup</code> å¯¹è±¡å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„ <code>Tag</code>ï¼Œå®ƒæ²¡æœ‰å¸¸è§„çš„ <code>name</code> å’Œ <code>attribute</code> å±æ€§ã€‚ä¸Šé¢çš„ç¤ºä¾‹ä¸­æ‰€æŸ¥çœ‹åˆ°çš„ <code>name</code> å±æ€§æ˜¯ <code>BeautifulSoup</code> å¯¹è±¡çš„ä¸€ä¸ªç‰¹æ®Šå±æ€§ã€‚</p>
</section>
</section>
<section id="ä¸‰éå†æ–‡æ¡£æ ‘" class="level3">
<h3 class="anchored" data-anchor-id="ä¸‰éå†æ–‡æ¡£æ ‘">ä¸‰ã€éå†æ–‡æ¡£æ ‘</h3>
<section id="æ–‡æ¡£æ ‘åŸºç¡€" class="level4">
<h4 class="anchored" data-anchor-id="æ–‡æ¡£æ ‘åŸºç¡€">1. æ–‡æ¡£æ ‘åŸºç¡€</h4>
<p>BeautifulSoup ä¸­çš„æ–‡æ¡£æ ‘æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ ‘çŠ¶ç»“æ„ï¼Œç”¨äºè¡¨ç¤º HTML æ–‡æ¡£çš„å±‚æ¬¡ç»“æ„å’Œå…³ç³»ã€‚æ–‡æ¡£æ ‘åŒ…å«æ ‡ç­¾ã€æ–‡æœ¬å†…å®¹ã€æ³¨é‡Šã€ç‰¹æ®Šå­—ç¬¦ç­‰å„ç§å…ƒç´ ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„åµŒå¥—å…³ç³»ã€‚</p>
<p>å¯¹äºæ–‡æ¡£æ ‘ï¼Œæˆ‘ä»¬è¦äº†è§£çš„éƒ¨åˆ†ä¸»è¦æœ‰ï¼š</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<pre class="mermaid mermaid-js">graph LR
id(æ–‡æ¡£æ ‘) --&gt; id1(ç»„æˆå…ƒç´ )
id --&gt; id2(å…ƒç´ ä¹‹é—´çš„å…³ç³»)
id1 --&gt; id3(æ ¹å…ƒç´ )
id1 --&gt; id4(æ ‡ç­¾)
id1 --&gt; id5(æ–‡æœ¬å†…å®¹)
id1 --&gt; id6(å±æ€§)
id1 --&gt; id7(æ³¨é‡Š)
id2 --&gt; id10(çˆ¶å­å…³ç³»)
id2 --&gt; id11(å…„å¼Ÿå…³ç³»)
id2 --&gt; id12(å‰åèŠ‚ç‚¹)
</pre>
</div>
</div>
</div>
</div>
<p>æ–‡æ¡£æ ‘çš„ç»„æˆå…ƒç´ ï¼Œæˆ‘ä»¬å·²ç»åœ¨ä¸Šé¢è¿›è¡Œäº†ä¸€å®šçš„äº†è§£ï¼Œæ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å…ƒç´ ä¹‹é—´å…³ç³»ï¼Œäº†è§£æ–‡æ¡£æ ‘çš„æ„æˆ ã€‚</p>
</section>
<section id="å…ƒç´ é—´çš„å…³ç³»" class="level4">
<h4 class="anchored" data-anchor-id="å…ƒç´ é—´çš„å…³ç³»">2. å…ƒç´ é—´çš„å…³ç³»</h4>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>æˆ‘ä»¬å·²ç»åœ¨ä¸Šé¢äº†è§£è¿‡ï¼Œæ“ä½œæ–‡æ¡£æ ‘æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ <code>Tag</code> çš„åå­—ï¼Œé€šè¿‡ç›´æ¥ä½¿ç”¨æ ‡ç­¾çš„åå­—ï¼Œå°±å¯ä»¥è·å–æ ‡ç­¾çš„å†…å®¹ï¼Œåªéœ€è¦åœ¨ <code>BeautifulSoup</code> å¯¹è±¡åè·Ÿä¸Š <code>Tag</code> çš„åå­—å°±å¯ä»¥äº†ã€‚</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;!</span>DOCTYPE html<span class="op">&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>html<span class="op">&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>head<span class="op">&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>title<span class="op">&gt;</span>ç®€çŸ­çš„HTMLç¤ºä¾‹<span class="op">&lt;/</span>title<span class="op">&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>head<span class="op">&gt;</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>body<span class="op">&gt;</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>h1<span class="op">&gt;</span>æ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™<span class="op">&lt;/</span>h1<span class="op">&gt;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>p<span class="op">&gt;</span>è¿™æ˜¯ä¸€ä¸ªç®€çŸ­çš„HTMLç¤ºä¾‹ã€‚<span class="op">&lt;/</span>p<span class="op">&gt;</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>ul<span class="op">&gt;</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>li<span class="op">&gt;</span>é¡¹ç›®<span class="dv">1</span><span class="op">&lt;/</span>li<span class="op">&gt;</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>li<span class="op">&gt;</span>é¡¹ç›®<span class="dv">2</span><span class="op">&lt;/</span>li<span class="op">&gt;</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>li<span class="op">&gt;</span>é¡¹ç›®<span class="dv">3</span><span class="op">&lt;/</span>li<span class="op">&gt;</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;/</span>ul<span class="op">&gt;</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>body<span class="op">&gt;</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>html<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>è¿™ä¸ªæ–¹æ³•æ˜¯å¯ä»¥å¤šæ¬¡ä½¿ç”¨çš„ï¼Œä¾‹å¦‚ï¼š</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(soup.body.h1.p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç‚¹å–å±æ€§çš„æ–¹å¼åªèƒ½è·å¾—æŒ‡å®šæ ‡ç­¾åçš„ç¬¬ä¸€ä¸ª <code>Tag</code>ï¼Œå¦‚æœæƒ³è¦è·å¾—æ‰€æœ‰çš„æŒ‡å®šæ ‡ç­¾åçš„ <code>Tag</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>find_all()</code> æ–¹æ³•ã€‚</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(soup.find_all(<span class="st">'li'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<section id="çˆ¶å­å…³ç³»" class="level5">
<h5 class="anchored" data-anchor-id="çˆ¶å­å…³ç³»">(1) çˆ¶å­å…³ç³»</h5>
<p>åœ¨æ–‡æ¡£æ ‘ä¸­ï¼Œçˆ¶å­å…³ç³»èŠ‚ç‚¹æ˜¯æœ€å¸¸è§çš„èŠ‚ç‚¹å…³ç³»ã€‚BeautifulSoup æä¾›äº†è®¸å¤šæ–¹æ³•æ¥å¯¹çˆ¶å­å…³ç³»èŠ‚ç‚¹è¿›è¡Œæ“ä½œã€‚</p>
<ol type="1">
<li><p>è·å–å­èŠ‚ç‚¹</p>
<p>æƒ³è¦è·å–æŸä¸€ä¸ª <code>Tag</code> çš„å­èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>.contents</code> å±æ€§ã€‚<code>.contents</code> å±æ€§å¯ä»¥å°† <code>Tag</code> çš„å­èŠ‚ç‚¹ä»¥åˆ—è¡¨çš„æ–¹å¼è¾“å‡ºã€‚</p></li>
</ol>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;html&gt;</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;head&gt;</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;title&gt;çˆ¶å­å…³ç³»ç¤ºä¾‹&lt;/title&gt;</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/head&gt;</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;body&gt;</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;div id="parent"&gt;</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜&lt;/h1&gt;</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;ul&gt;</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;li&gt;åˆ—è¡¨é¡¹1&lt;/li&gt;</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;li&gt;åˆ—è¡¨é¡¹2&lt;/li&gt;</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;li&gt;åˆ—è¡¨é¡¹3&lt;/li&gt;</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/ul&gt;</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/div&gt;</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/body&gt;</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/html&gt;</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'lxml'</span>)</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ä½¿ç”¨ contents æ–¹å¼è·å–å­èŠ‚ç‚¹</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>head_tag <span class="op">=</span> soup.head</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>head_tag_contents <span class="op">=</span> head_tag.contents</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a><span class="co"># è¾“å‡ºè·å–ç»“æœ</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(head_tag_contents)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['\n', &lt;title&gt;çˆ¶å­å…³ç³»ç¤ºä¾‹&lt;/title&gt;, '\n']</code></pre>
</div>
</div>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºå­—ç¬¦ä¸²æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå› æ­¤å­—ç¬¦ä¸²ä¸å¯ä»¥ä½¿ç”¨ <code>.contents</code> å±æ€§ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬è¿˜æœ‰å¦å¤–ä¸€ç§æ–¹æ³•ï¼š<code>.children</code>ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯å­èŠ‚ç‚¹çš„è¿­ä»£å™¨ï¼Œéœ€è¦ç”¨å¾ªç¯æ¥è¾“å‡ºå…¶ä¸­çš„å†…å®¹ã€‚</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>title_tag <span class="op">=</span>soup.title</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> child <span class="kw">in</span> title_tag.children:</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(child)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>çˆ¶å­å…³ç³»ç¤ºä¾‹</code></pre>
</div>
</div>
<p><code>.contents</code> å’Œ <code>.children</code> å±æ€§ä»…åŒ…å« <code>tag</code> çš„ç›´æ¥å­èŠ‚ç‚¹ï¼Œå¦‚æœæƒ³è¦å°†ä¸€ä¸ª <code>Tag</code> çš„å…¨éƒ¨å­èŠ‚ç‚¹éƒ½è¾“å‡ºå‡ºæ¥ï¼Œå¯ä»¥ä½¿ç”¨ <code>.descendants</code> å±æ€§ã€‚<code>.descendants</code> å¯ä»¥è·å–åˆ°æŒ‡å®šæ ‡ç­¾ä¸‹çš„æ‰€æœ‰å­å­™æ ‡ç­¾ï¼Œä½†æ˜¯è¯¥æ–¹æ³•ä¹Ÿæ˜¯è¿”å›çš„å­å­™èŠ‚ç‚¹çš„è¿­ä»£å™¨ï¼Œå› æ­¤ä¹Ÿè¦ä½¿ç”¨å¾ªç¯æ¥iéå†æ‰€æœ‰çš„å­å­™æ ‡ç­¾ã€‚</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># æ‰¾åˆ°èµ·å§‹æ ‡ç­¾</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>div_tag <span class="op">=</span> soup.find(<span class="st">'div'</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ä½¿ç”¨ .descendants éå†æ‰€æœ‰å­å­™æ ‡ç­¾</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> tag <span class="kw">in</span> div_tag.descendants:</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> tag.name <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:  <span class="co"># æ£€æŸ¥æ ‡ç­¾æ˜¯å¦æœ‰åå­—ï¼Œé¿å…å¤„ç†å­—ç¬¦ä¸²</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(tag.name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>h1
p
ul
li
li
li</code></pre>
</div>
</div>
<ol type="1">
<li>è·å–çˆ¶èŠ‚ç‚¹</li>
</ol>
<p>ä¸å­èŠ‚ç‚¹çš„è·å–ç›¸å¯¹åº”ï¼ŒBeautifulSoup ä¹Ÿæä¾›äº†è·å–çˆ¶èŠ‚ç‚¹çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>.parent</code> å±æ€§æ¥è·å–æŸä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹ã€‚</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;html&gt;</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;head&gt;</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;title&gt;çˆ¶å­å…³ç³»ç¤ºä¾‹&lt;/title&gt;</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/head&gt;</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;body&gt;</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;div id="parent"&gt;</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;h1&gt;è¿™æ˜¯ä¸€ä¸ªæ ‡é¢˜&lt;/h1&gt;</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;ul&gt;</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;li&gt;åˆ—è¡¨é¡¹1&lt;/li&gt;</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;li&gt;åˆ—è¡¨é¡¹2&lt;/li&gt;</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a><span class="st">            &lt;li&gt;åˆ—è¡¨é¡¹3&lt;/li&gt;</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;/ul&gt;</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/div&gt;</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/body&gt;</span></span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/html&gt;</span></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'lxml'</span>)</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ä½¿ç”¨ parent æ–¹å¼è·å–çˆ¶èŠ‚ç‚¹</span></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>title_tag <span class="op">=</span> soup.title</span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(title_tag.parent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;head&gt;
&lt;title&gt;çˆ¶å­å…³ç³»ç¤ºä¾‹&lt;/title&gt;
&lt;/head&gt;</code></pre>
</div>
</div>
<p>ä¸å­èŠ‚ç‚¹ä¸åŒçš„æ˜¯ï¼Œå­—ç¬¦ä¸²ä¹Ÿæœ‰çˆ¶èŠ‚ç‚¹ï¼Œå°±æ˜¯å®ƒæœ¬èº«ï¼š</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(title_tag.string.parent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;title&gt;çˆ¶å­å…³ç³»ç¤ºä¾‹&lt;/title&gt;</code></pre>
</div>
</div>
<p>æ–‡æ¡£çš„é¡¶å±‚èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯ <code>BeautifulSoup</code> å¯¹è±¡ï¼š</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>html_tag <span class="op">=</span> soup.html</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(html_tag.parent))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'bs4.BeautifulSoup'&gt;</code></pre>
</div>
</div>
<p><code>BeautifulSoup</code> å¯¹è±¡çš„çˆ¶èŠ‚ç‚¹æ˜¯ <code>None</code>ï¼š</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(soup.parent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>None</code></pre>
</div>
</div>
<p>å¦å¤–çš„ï¼Œä½¿ç”¨ <code>.parents</code> å±æ€§å¯ä»¥é€’å½’å¾—åˆ°å…ƒç´ çš„æ‰€æœ‰çˆ¶è¾ˆèŠ‚ç‚¹ï¼Œä½†ä¸å±æ€§ç±»ä¼¼ï¼Œæƒ³è¦ä½¿ç”¨å¾ªç¯æ‰èƒ½éå†å®ŒæŸæ ‡ç­¾çš„æ‰€æœ‰çˆ¶è¾ˆèŠ‚ç‚¹ã€‚</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>li <span class="op">=</span> soup.li</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> parent <span class="kw">in</span> li.parents:</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> parent <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(parent)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(parent.name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>AttributeError: 'NoneType' object has no attribute 'parents'</code></pre>
</div>
</div>
</section>
<section id="å…„å¼Ÿå…³ç³»" class="level5">
<h5 class="anchored" data-anchor-id="å…„å¼Ÿå…³ç³»">(2) å…„å¼Ÿå…³ç³»</h5>
<p>æ‹¥æœ‰åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œä¸”å¤„äºåŒä¸€ç¼©è¿›çº§åˆ«çš„èŠ‚ç‚¹å°±æ˜¯å…„å¼ŸèŠ‚ç‚¹ã€‚ä½¿ç”¨ <code>.next_sibling</code> æ¥æŸ¥è¯¢ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ï¼Œ<code>.previous_sibling</code> æ¥æŸ¥è¯¢ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ã€‚</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;html&gt;</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;head&gt;</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;title&gt;å…„å¼Ÿæ ‡ç­¾ç¤ºä¾‹&lt;/title&gt;</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/head&gt;</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;body&gt;</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;h1&gt;å…„å¼Ÿæ ‡ç­¾ç¤ºä¾‹&lt;/h1&gt;</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;p&gt;è¿™æ˜¯ç¬¬ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;&lt;a&gt;è¿™æ˜¯ç¬¬äºŒä¸ªæ®µè½ã€‚&lt;/a&gt;</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;p&gt;è¿™æ˜¯ç¬¬ä¸‰ä¸ªæ®µè½ã€‚&lt;/p&gt;</span></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/body&gt;</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/html&gt;</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">'lxml'</span>)</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ä½¿ç”¨.next_siblingè·å–ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</span></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>sibling_soup <span class="op">=</span> soup.p.next_sibling</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"ç¬¬ä¸€ä¸ª&lt;p&gt;æ ‡ç­¾çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š"</span>, sibling_soup)</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a><span class="co"># ä½¿ç”¨.previous_siblingè·å–ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</span></span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>sibling_soup_2 <span class="op">=</span> soup.a.previous_sibling</span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"æ ‡ç­¾&lt;a&gt;çš„ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š"</span>, sibling_soup_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>ç¬¬ä¸€ä¸ª&lt;p&gt;æ ‡ç­¾çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š &lt;a&gt;è¿™æ˜¯ç¬¬äºŒä¸ªæ®µè½ã€‚&lt;/a&gt;
æ ‡ç­¾&lt;a&gt;çš„ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š &lt;p&gt;è¿™æ˜¯ç¬¬ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;</code></pre>
</div>
</div>
<p>ä¸Šé¢çš„ä»£ç å¾ˆæ¸…æ™°åœ°å±•ç°å‡ºäº†å„ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œä½†æ˜¯å¦‚æœä½ å°è¯•ä¿®æ”¹äº†ä¸€ä¸‹ä¸Šé¢çš„ä»£ç ï¼Œæƒ³è¦æŸ¥è¯¢ç¬¬äºŒä¸ª <code>&lt;p&gt;</code> ä¸æ ‡ç­¾ <code>&lt;a&gt;</code> ä¹‹é—´çš„å…³ç³»ï¼Œå¯èƒ½ä¼šå¤±æœ›ã€‚</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ä½¿ç”¨.next_siblingè·å–ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>sibling_soup <span class="op">=</span> soup.a.next_sibling</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"&lt;a&gt;æ ‡ç­¾çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š"</span>, sibling_soup)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ä½¿ç”¨.previous_siblingè·å–ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>sibling_soup_2 <span class="op">=</span> soup.p.previous_sibling</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"ç¬¬äºŒä¸ªæ ‡ç­¾&lt;p&gt;çš„ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š"</span>, sibling_soup_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;a&gt;æ ‡ç­¾çš„ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š 

ç¬¬äºŒä¸ªæ ‡ç­¾&lt;p&gt;çš„ä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹æ˜¯ï¼š 
</code></pre>
</div>
</div>
<p>ä»”ç»†è§‚å¯Ÿè¿è¡Œç»“æœï¼Œæˆ‘ä»¬å‘ç°ï¼Œä»£ç æ—¢æ²¡æœ‰æŠ¥é”™ï¼Œä¹Ÿæ²¡æœ‰é¢„æƒ³ä¸­çš„è¾“å‡ºã€‚è¿™æ˜¯å› ä¸ºï¼Œç©ºæ ¼å’Œæ¢è¡Œç¬¦éƒ½æ˜¯æ ‡ç­¾çš„å…„å¼ŸèŠ‚ç‚¹ã€‚å› æ­¤ï¼Œå®é™… HTML æ–‡æ¡£ä¸­çš„ <code>Tag</code> çš„ <code>.next_sibling</code> å’Œ <code>.previous_sibling</code> å±æ€§é€šå¸¸éƒ½æ˜¯å­—ç¬¦ä¸²æˆ–ç©ºç™½ã€‚</p>
</section>
<section id="å‰åèŠ‚ç‚¹" class="level5">
<h5 class="anchored" data-anchor-id="å‰åèŠ‚ç‚¹">(3) å‰åèŠ‚ç‚¹</h5>
<p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹æœ€åä¸€ç§å…ƒç´ é—´çš„å…³ç³»ï¼šå‰åèŠ‚ç‚¹ã€‚</p>
<p>åœ¨è¿è¡Œ HTML è§£æå™¨æ—¶ï¼Œä½ æœ‰æ²¡æœ‰æƒ³è¿‡å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿçœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="cell" data-vscode="{&quot;languageId&quot;:&quot;html&quot;}">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>html<span class="op">&gt;&lt;</span>head<span class="op">&gt;&lt;</span>title<span class="op">&gt;</span>The Dormouse<span class="st">'s story&lt;/title&gt;&lt;/head&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="er">&lt;p class="title"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>å¯¹äºä¸Šé¢è¿™ä¸€å°å— HTML æ–‡æ¡£ï¼Œè§£æå™¨çš„å·¥ä½œæµç¨‹æ˜¯ï¼š</p>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<pre class="mermaid mermaid-js">graph LR
id(æ‰“å¼€ &amp;lthtml&amp;gt æ ‡ç­¾) --&gt; id1(æ‰“å¼€ä¸€ä¸ª &amp;lthead&amp;gt æ ‡ç­¾) --&gt; id2(æ‰“å¼€ä¸€ä¸ª &amp;lttitle&amp;gt æ ‡ç­¾) --&gt;  id3(æ·»åŠ ä¸€æ®µå­—ç¬¦ä¸²) --&gt; id4(å…³é—­ &amp;lttitle&amp;gt æ ‡ç­¾) --&gt; id5(æ‰“å¼€ &amp;ltp&amp;gt æ ‡ç­¾) --&gt;id6(...)
</pre>
</div>
</div>
</div>
</div>
<p>æ ¹æ®è§£æå™¨çš„å·¥ä½œæµç¨‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰å‡ºå‰åèŠ‚ç‚¹å…³ç³»ï¼šåœ¨æŒ‡å®šèŠ‚ç‚¹åè§£æçš„èŠ‚ç‚¹å«åšè¯¥èŠ‚ç‚¹çš„å‰è¿›èŠ‚ç‚¹ï¼Œåœ¨æŒ‡å®šèŠ‚ç‚¹å‰è§£æçš„èŠ‚ç‚¹å«åšå›é€€èŠ‚ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>.next_element</code> å±æ€§æŒ‡å‘è§£æè¿‡ç¨‹ä¸­ä¸‹ä¸€ä¸ªè¢«è§£æçš„å¯¹è±¡(å­—ç¬¦ä¸²æˆ– <code>tag</code>)ï¼Œå³æŒ‡å‘å‰è¿›èŠ‚ç‚¹ï¼›ä½¿ç”¨ <code>.previous_element</code> å±æ€§æŒ‡å‘å½“å‰è¢«è§£æçš„å¯¹è±¡çš„å‰ä¸€ä¸ªè§£æå¯¹è±¡ï¼Œå³æŒ‡å‘å›é€€èŠ‚ç‚¹ã€‚</p>
<p>æœ‰æ—¶å€™å‰åèŠ‚ç‚¹å¯èƒ½ä¸å…„å¼ŸèŠ‚ç‚¹æ˜¯ä¸€æ ·çš„ï¼Œä½†é€šå¸¸æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./05_02_HTMLæ–‡æ¡£ä¸Requestsåº“.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HTML æ–‡æ¡£ä¸ Requests åº“</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05_04_Scrapyæ¡†æ¶.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Scrapy æ¡†æ¶</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>